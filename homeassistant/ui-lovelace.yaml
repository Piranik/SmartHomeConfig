
# This file is automatically generated by lovelace-gen.py
# https://github.com/thomasloven/homeassistant-lovelace-gen
# Any changes made to it will be overwritten the next time the script is run.
title: tbsmartho.me

resources:
- url: /local/upcoming-media-card.js?v=0.3.4
  type: js
- url: /local/tracker-card.js?v=0.2.0
  type: js
- url: /local/group-card.js?v=0.0.2
  type: js
- url: /local/monster-card.js?v=0.2.3
  type: js
- url: /local/useful-markdown-card.js?v=dfc268
  type: js
- url: /local/mini-graph-card-bundle.js?v=0.2.1
  type: module
- url: /local/custom-lovelace/compact-custom-header/compact-custom-header.js?v=0.2.9
  type: js
- url: /local/waze-card/waze-card.js?v=1.1.1
  type: js
- url: /local/mini-media-player-bundle.js?v=0.9.8
  type: module
- url: /local/card-tools.js?v=297fcc
  type: js
- url: /local/fold-entity-row.js?v=6d11d3
  type: js
- url: /local/auto-entities.js?v=3cfd04
  type: js
- url: https://fonts.googleapis.com/css?family=Roboto+Condensed
  type: css

views:
- title: Home
  icon: mdi:home
  path: home
  cards:
  - type: custom:compact-custom-header
    menu: true
    clock: notification, options, menu, options
    clock_format: 24
    clock_am_pm: false
  - type: entities
    title: Date and Time
    show_header_toggle: false
    entities:
    - sensor.date
    - sensor.time
    - sensor.new_york_time
    - sensor.london_time
    - sensor.home_assistant_uptime

  # - type: weather-forecast
  #   entity: weather.dark_sky
  #   name: Tamworth Airport

  - type: entities
    title: 'Weather Forecast'
    show_header_toggle: false
    entities:
    - 'sensor.bom_forecast_tamworth_1'
    - 'sensor.bom_forecast_tamworth_2'
    - 'sensor.bom_forecast_tamworth_3'
    - 'sensor.bom_forecast_tamworth_4'
    - 'sensor.bom_forecast_tamworth_5'
    - 'sensor.bom_forecast_tamworth_6'

  # - type: entities
  #   title: Light
  #   entities:
  #     - light.lamp

  - type: vertical-stack
    cards:
    - type: custom:mini-graph-card
      entity: sensor.speedtest_download
      name: Download Speed (Speedtest)
      line_width: 5
      hours_to_show: 168
      points_per_hour: 0.25
      fill: true
      animate: true
    - type: custom:mini-graph-card
      entity: sensor.fast_com_download
      name: Download Speed (fast.com)
      line_width: 5
      hours_to_show: 168
      points_per_hour: 0.25
      fill: true
      animate: true
    - type: custom:mini-graph-card
      entity: sensor.pi_hole_ads_percentage_blocked_today
      name: "Ads Blocked Today (%)"
      line_width: 5
      hours_to_show: 168
      points_per_hour: 0.25
      animate: true
  # - type: horizontal-stack
  #   cards:
  #     - type: custom:mini-graph-card
  #       entity: sensor.speedtest_ping
  #       name: Ping
  #       line_color: '#e74c3c'
  #       line_width: 8
  #       hours_to_show: 72
  #     - type: custom:mini-graph-card
  #       entity: sensor.speedtest_upload
  #       name: Upload
  #       line_width: 8
  #       hours_to_show: 72

  - type: vertical-stack
    cards:
    - type: custom:mini-graph-card
      entity: sensor.netatmo_indoor_temperature
      name: Indoor Temp
      line_color_above:
      - value: 10
        color: yellow
      - value: 25
        color: orange
      - value: 35
        color: red
      line_color_below:
      - value: 10
        color: white
      - value: 0
        color: lightblue
      - value: -2
        color: blue
      - value: -5
        color: "#000000"
      line_width: 5
      hours_to_show: 72
      points_per_hour: 0.25
      extrema: true
      animate: true
    - type: custom:mini-graph-card
      entity: sensor.netatmo_outdoor_temperature
      name: Outdoor Temp
      line_color_above:
      - value: 10
        color: yellow
      - value: 25
        color: orange
      - value: 35
        color: red
      line_color_below:
      - value: 10
        color: white
      - value: 0
        color: lightblue
      - value: -2
        color: blue
      - value: -5
        color: "#000000"
      line_width: 5
      hours_to_show: 72
      points_per_hour: 0.25
      extrema: true
      animate: true

  - type: entities
    title: Bin Day
    show_header_toggle: false
    entities:
    - sensor.bin_day
    - sensor.bin_type

  # - type: custom:waze-card
  #   name: Time To...
  #   entities:
  #     - entity:  sensor.tom_time_to_home
  #       zone: zone.home
  #       name: Home
  #     - entity:  sensor.tom_time_to_work
  #       zone: zone.trc
  #       name: Work

  - type: custom:mini-graph-card
    name: Fuel Price Graph
    animate: true
    hours_to_show: 168
    points_per_hour: 0.1
    line_color:
    - green
    - '#e74c3c'
    entities:
    - entity: sensor.fuelcheck_bp_tamworth_p98
    - entity: sensor.fuelcheck_caltex_tamworth_orana_p98
- title: House
  id: House
  icon: mdi:floor-plan
  cards:
  - type: custom:compact-custom-header
    menu: true
    clock: notification, options, menu, options
    clock_format: 24
    clock_am_pm: false
  - type: picture-glance
    image: /local/images/house.jpg
    title: 'Bedroom'
    entities:
    - sensor.netatmo_indoor_temperature
    - sensor.netatmo_indoor_temperature
    - sensor.netatmo_indoor_temperature
    - sensor.netatmo_indoor_temperature
    - sensor.netatmo_indoor_temperature
    - sensor.netatmo_indoor_temperature
  - type: picture-glance
    image: /local/images/house.jpg
    title: 'Bedroom'
    entities:
    - sensor.netatmo_indoor_temperature
    - sensor.netatmo_indoor_temperature
    - sensor.netatmo_indoor_temperature
    - sensor.netatmo_indoor_temperature
    - sensor.netatmo_indoor_temperature
    - sensor.netatmo_indoor_temperature
  - type: picture-glance
    image: /local/images/roomreno.jpg
    title: 'Bedroom'
    entities:
    - sensor.netatmo_indoor_temperature
    - sensor.netatmo_indoor_temperature
    - sensor.netatmo_indoor_temperature
    - sensor.netatmo_indoor_temperature
    - sensor.netatmo_indoor_temperature
    - sensor.netatmo_indoor_temperature
  - type: horizontal-stack
    cards:
    - type: picture-glance
      image: /local/images/roomreno.jpg
      title: 'Bedroom'
      entities:
      - sensor.netatmo_indoor_temperature
      - sensor.netatmo_indoor_temperature
      - sensor.netatmo_indoor_temperature
      - sensor.netatmo_indoor_temperature
      - sensor.netatmo_indoor_temperature
      - sensor.netatmo_indoor_temperature
    - type: picture-glance
      image: /local/images/roomreno.jpg
      title: 'Bedroom'
      entities:
      - sensor.netatmo_indoor_temperature
      - sensor.netatmo_indoor_temperature
      - sensor.netatmo_indoor_temperature
      - sensor.netatmo_indoor_temperature
      - sensor.netatmo_indoor_temperature
      - sensor.netatmo_indoor_temperature
- title: Weather
  icon: mdi:weather-cloudy
  cards:
  - type: custom:compact-custom-header
    menu: true
    clock: notification, options, menu, options
    clock_format: 24
    clock_am_pm: false
  - type: custom:mini-graph-card
    name: Home Temperature
    icon: mdi:weather-cloudy
    animate: true
    hours_to_show: 48
    line_color:
    - yellow
    - red
    entities:
    - entity: sensor.netatmo_indoor_temperature
      name: Indoor
      labels: true
    - entity: sensor.netatmo_outdoor_temperature
      name: Outdoor
  - type: entities
    title: Home (Netatmo)
    show_header_toggle: false
    entities:
    - entity: sensor.netatmo_indoor_temperature
      secondary_info: last-changed
    - entity: sensor.netatmo_outdoor_temperature
      secondary_info: last-changed
    - type: section
      label: Indoor Sensor
    - sensor.netatmo_indoor_humidity
    - sensor.netatmo_indoor_max_temp
    - sensor.netatmo_indoor_min_temp
    - sensor.netatmo_indoor_noise
    - sensor.netatmo_indoor_pressure
    - sensor.netatmo_indoor_wifi
    - type: section
      label: Outdoor Sensor
    - sensor.netatmo_outdoor_humidity
    - sensor.netatmo_outdoor_max_temp
    - sensor.netatmo_outdoor_min_temp
    - sensor.netatmo_outdoor_radio
  - type: custom:mini-graph-card
    name: Bom Temperature
    icon: mdi:weather-cloudy
    animate: true
    hours_to_show: 48
    line_color:
    - blue
    - green
    entities:
    - entity: sensor.bom_air_temp_c
      name: Air Temp
      labels: true
    - entity: sensor.bom_feels_like_c
      name: Feels Like
  - type: entities
    title: Tamworth Airport (BOM)
    show_header_toggle: false
    entities:
    - sensor.bom_local_time
    - sensor.bom_air_temp_c
    - sensor.bom_feels_like_c
    - sensor.bom_cloud
    - sensor.bom_relative_humidity
    - sensor.bom_pressure_mb
    - sensor.bom_rain_today
  - type: entities
    title: Tamworth Airport (yr.no)
    show_header_toggle: false
    entities:
    - entity: sensor.yr_temperature
      secondary_info: last-changed
    - sensor.yr_pressure
    - sensor.yr_humidity
    - sensor.yr_pressure
    - sensor.yr_precipitation
  - type: entities
    title: Sun
    show_header_toggle: false
    entities:
    - sensor.sun_state
    - sensor.sun_solarangle
    - sensor.sun_nextrising
    - sensor.sun_nextdawn
    - sensor.sun_nextnoon
    - sensor.sun_nextdusk
    - sensor.sun_nextsetting
    - sensor.sun_nextmidnight
  - type: vertical-stack
    cards:
    - type: picture-entity
      title: BOM Radar (Namoi 128km)
      entity: camera.namoi_128k
      show_name: false
      show_state: false
      tap_action:
        action: more-info
      hold_action:
        action: more-info
    - type: picture-entity
      title: BOM Radar (Moree 256km)
      entity: camera.moree_256k
      show_name: false
      show_state: false
      tap_action:
        action: more-info
      hold_action:
        action: more-info
  - type: iframe
    title: Windy
    url: https://embed.windy.com/embed2.html
    aspect_ratio: 100%
  - type: vertical-stack
    cards:
    - type: entities
      title: NSW Warnings & Events
      show_header_toggle: false
      entities:
      - type: custom:auto-entities
        card:
          type: custom:fold-entity-row
          head:
            type: section
            label: Current Incidents
          open: true
        filter:
          include:
          - entity_id: "geo_location.nswrfs_*"
        show_empty: true
    - type: map
      show_header_toggle: false
      geo_location_sources:
      - nsw_rural_fire_service_feed
      entities:
      - zone.home
- title: Media
  icon: mdi:television-classic
  cards:
  - type: custom:compact-custom-header
    menu: true
    clock: notification, options, menu, options
    clock_format: 24
    clock_am_pm: false
  - type: "custom:monster-card"
    card:
      title: Media Player Status
      type: entities
      show_header_toggle: false
    filter:
      include:
      - domain: media_player

  - type: "custom:monster-card"
    card:
      title: Media Player
      type: entities
      show_header_toggle: false
    filter:
      include:
      - domain: media_player
        options:
          type: custom:mini-media-player
          power_color: true
          hide_volume: false
          show_progress: true
          scroll_info: true
          group: true
          idle_view: true
          more_info: true
          show_source: full
          artwork: full-cover

  - type: "custom:monster-card"
    card:
      title: Remote
      type: entities
      show_header_toggle: false
    filter:
      include:
      - domain: remote
- title: network
  icon: mdi:server-network
  cards:
  - type: custom:compact-custom-header
    menu: true
    clock: notification, options, menu, options
    clock_format: 24
    clock_am_pm: false
  - type: entities
    title: Links
    show_header_toggle: false
    entities:
    - type: weblink
      name: Router
      url: !secret router_url
      icon: mdi:router-wireless
    - type: weblink
      name: Pi-Hole
      url: !secret pihole_url
      icon: mdi:lan
  - type: entities
    title: TBSmartHome Server
    show_header_toggle: false
    entities:
    - sensor.ipv4_address_eno1
    - sensor.ipv6_address_eno1
    - sensor.external_ipv4
    - sensor.last_boot
    - sensor.disk_free
    - sensor.disk_use_percent
    - sensor.processor_use
    - sensor.memory_use_percent
    - sensor.memory_free
    - sensor.memory_use
    - sensor.network_in_eno1
    - sensor.network_out_eno1
  - type: horizontal-stack
    cards:
    - type: gauge
      name: CPU Temp
      unit: °C
      entity: sensor.cpu_temperature
      severity:
        green: 0
        yellow: 50
        red: 60
    - type: gauge
      name: Disk Usage
      unit: '%'
      entity: sensor.disk_use_percent
  - type: horizontal-stack
    cards:
    - type: gauge
      name: CPU Usage
      unit: '%'
      entity: sensor.processor_use
      severity:
        green: 0
        yellow: 25
        red: 50
    - type: gauge
      name: Memory Usage
      unit: '%'
      entity: sensor.memory_use_percent
      severity:
        green: 0
        yellow: 35
        red: 50
  - type: entities
    title: Status
    show_header_toggle: false
    entities:
    - sensor.external_ipv4
    - type: section
      label: Speedtest
    - entity: sensor.speedtest_ping
      secondary_info: last-changed
    - entity: sensor.speedtest_download
      secondary_info: last-changed
    - entity: sensor.speedtest_upload
      secondary_info: last-changed
    - type: call-service
      icon: mdi:speedometer
      name: Run Speedtest
      action_name: Run Speedtest
      service: sensor.update_speedtest
    - type: section
      label: fast.com
    - entity: sensor.fast_com_download
      secondary_info: last-changed
    - type: call-service
      icon: mdi:speedometer
      name: Run Fast.com
      action_name: Run Fast
      service: sensor.update_fastdotcom
  - type: custom:monster-card
    card:
      type: entities
      title: Pi-Hole
      show_header_toggle: false
      secondary_info: last-changed
    filter:
      include:
      - entity_id: sensor.pihole_status
      - entity_id: script.enable_pihole
      - entity_id: input_select.pihole_time
      - entity_id: sensor.pi_hole*
- title: Online
  icon: mdi:download-network
  cards:
  - type: custom:compact-custom-header
    menu: true
    clock: notification, options, menu, options
    clock_format: 24
    clock_am_pm: false
  - type: entities
    title: Links
    show_header_toggle: false
    entities:
    - type: weblink
      name: Router
      url: !secret router_url
      icon: mdi:router-wireless
    - type: divider
    - type: weblink
      name: Sonarr
      url: !secret sonarr_url
      icon: mdi:television
    - type: weblink
      name: Transmission
      url: !secret transmission_url
      icon: mdi:download
    - type: weblink
      name: SABnzbd
      icon: mdi:download
      url: !secret sabnzbd_url
    - type: weblink
      name: Plex
      url: !secret plex_url
      icon: mdi:television-guide

  - type: vertical-stack
    cards:
    - type: entities
      title: Sonarr
      show_header_toggle: false
      entities:
      - sensor.sonarr_status
      - sensor.sonarr_series
      - sensor.sonarr_upcoming
      - sensor.sonarr_queue
      - sensor.sonarr_wanted

    - type: history-graph
      title: Sonarr Stats
      hours_to_show: 168
      entities:
      - entity: sensor.sonarr_upcoming
        name: Airing Soon
      - entity: sensor.sonarr_wanted
        name: Yet to Download

    - type: custom:upcoming-media-card
      entity: sensor.sonarr_upcoming_media
      title: Upcoming TV (Next 15 Days)
      image_style: fanart
      date: ddmm
      max: 15
      text_shadows: false
      box_shadows: true

  - type: vertical-stack
    cards:
    - type: entities
      title: Radarr
      show_header_toggle: false
      entities:
      - sensor.radarr_status
      - sensor.radarr_movies
      - sensor.radarr_upcoming

    - type: custom:upcoming-media-card
      entity: sensor.radarr_upcoming_media
      title: Upcoming Movies (Next 120 Days)
      image_style: fanart
      date: ddmm
      max: 15

  - type: vertical-stack
    cards:
    - type: entities
      title: Plex
      show_header_toggle: false
      entities:
      - sensor.plex
      - sensor.tautulli
      - sensor.plex_topmovie
      - sensor.plex_toptvshow
      - sensor.plex_topuser

    - type: custom:upcoming-media-card
      entity: sensor.plex_recently_added
      title: Recently Added to Plex
      image_style: fanart
      date: ddmm
      max: 15

  - type: entities
    title: Transmission
    show_header_toggle: false
    entities:
    - switch.transmission_alt_speed_limit
    - sensor.transmission_status
    - sensor.transmission_down_speed
    - sensor.transmission_up_speed
    - sensor.transmission_active_torrents
    - sensor.transmission_paused_torrents
    - sensor.transmission_total_torrents

  - type: entities
    title: SABnzbd
    show_header_toggle: false
    entities:
    - sensor.sabnzbd_status
    - sensor.sabnzbd_speed
    - sensor.sabnzbd_queue
    - sensor.sabnzbd_queue_count
    - sensor.sabnzbd_left
    - sensor.sabnzbd_daily_total
    - sensor.sabnzbd_weekly_total
    - sensor.sabnzbd_monthly_total
    - sensor.sabnzbd_total
- title: Lights
  icon: mdi:lightbulb
  cards:
  - type: custom:compact-custom-header
    menu: true
    clock: notification, options, menu, options
    clock_format: 24
    clock_am_pm: false
  - type: light
    entity: light.lamp
    name: Bedroom Lamp
  - type: custom:group-card
    card:
      type: entities
      title: All of the Lights, all of the lights
    group: group.all_lights
- title: House
  id: House
  icon: mdi:airplane
  cards:
  - type: custom:compact-custom-header
    menu: true
    clock: notification, options, menu, options
    clock_format: 24
    clock_am_pm: false
  - type: custom:mini-graph-card
    name: Overhead Aircraft
    animate: true
    hours_to_show: 168
    points_per_hour: 1
    line_color:
    - blue
    entities:
    - entity: sensor.opensky
- title: Docker
  id: Docker
  icon: mdi:docker
  cards:
  - type: custom:compact-custom-header
    menu: true
    clock: notification, options, menu, options
    clock_format: 24
    clock_am_pm: false
  - type: entities
    title: Links
    show_header_toggle: false
    entities:
    - type: weblink
      name: Portainer
      url: http://tbsmartho.me:9000
      icon: mdi:router-wireless

  - type: entities
    title: Docker
    show_header_toggle: false
    entities:
    - type: custom:auto-entities
      card:
        type: custom:fold-entity-row
        head:
          type: section
          label: Start/Stop Containers
        open: true
      filter:
        include:
        - entity_id: switch.docker*

  - type: custom:monster-card
    card:
      type: history-graph
      title: Uptime Status
      hours_to_show: 168
    filter:
      include:
      - entity_id: switch.docker*
- title: HA Settings
  icon: mdi:settings
  cards:
  - type: custom:compact-custom-header
    menu: true
    clock: notification, options, menu, options
    clock_format: 24
    clock_am_pm: false
  - type: vertical-stack
    cards:
    - type: entities
      title: Home Assistant
      show_header_toggle: false
      entities:
      - sensor.home_assistant_uptime
      - sensor.ha_current_version
      - sensor.ha_latest_version
      - type: call-service
        icon: mdi:cube-send
        name: Update Lovelace
        action_name: Update Lovelace
        service: shell_command.lovelace_gen
    - type: custom:tracker-card
      title: Custom Items Tracker
      trackers:
      - sensor.custom_card_tracker
      - sensor.custom_component_tracker
  # - type: custom:group-card
  #   card:
  #     type: entities
  #     title: Devices
  #     show_header_toggle: false
  #   group: group.all_devices
  - type: custom:monster-card
    card:
      type: entities
      title: Things that are broken
      show_header_toggle: false
    filter:
      include:
      - state: "unknown"
      exclude:
      - entity_id: group.*
  - type: entities
    title: Groups
    show_header_toggle: false
    entities:
    - type: custom:fold-entity-row
      head: group.all_automations
      group_config:
        secondary_info: last-changed
    - type: custom:auto-entities
      card:
        type: custom:fold-entity-row
        head:
          type: section
          label: Devices at Home
        group_config:
          secondary_info: last-changed
      filter:
        include:
        - domain: device_tracker
          state: "home"
    - type: custom:auto-entities
      card:
        type: custom:fold-entity-row
        head:
          type: section
          label: Devices not at Home
        group_config:
          secondary_info: last-changed
      filter:
        include:
        - domain: device_tracker
          state: "not_home"
    - type: custom:fold-entity-row
      head: group.all_geolocation_events
      group_config:
        secondary_info: last-changed
    - type: custom:fold-entity-row
      head: all.lights
      group_config:
        secondary_info: last-changed
    - type: custom:fold-entity-row
      head: group.all_remotes
      group_config:
        secondary_info: last-changed
    - type: custom:fold-entity-row
      head: group.all_scripts
      group_config:
        secondary_info: last-changed
    - type: custom:fold-entity-row
      head: group.all_switches
      group_config:
        secondary_info: last-changed
- title: Testing 123
  cards:
  - type: custom:compact-custom-header
    menu: true
    clock: notification, options, menu, options
    clock_format: 24
    clock_am_pm: false
  - type: entities
    title: Waze
    entities:
    - sensor.me_to_destination
    - input_select.destination
  - type: map
    entities:
    - entity: device_tracker.tb_iphonex
    - zone.home
    title: Where is Thomas?
  - type: custom:useful-markdown-card
    content: >
      ## Lovelace

      Starting with Home Assistant 0.72, we're experimenting with a new way of defining
      your interface. We're calling it the **Lovelace UI**

      Also, the current time is [[ sensor.time.state ]] [[ sensor.time.attributes.icon
      ]].
  - type: custom:monster-card
    card:
      type: entities
      title: Geolocation
    filter:
      include:
      - entity_id: geo_location.*
